<Project>
  <!-- Uncomment this to run static code analysis on build.
  <PropertyGroup>
    <RunAnalyzersDuringBuild>true</RunAnalyzersDuringBuild>
  </PropertyGroup>
  -->

  <ItemGroup>
    <PackageReference Include="Lombiq.Analyzers" Version="3.1.0">
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
  </ItemGroup>

  <!-- Copying the Lombiq logo as an icon to all NuGet-published projects. -->
  <Target Name="Download NuGet icon"
          AfterTargets="AfterResolveReferences"
          BeforeTargets="Pack"
          Condition="'$(PackageIcon)' == 'OrchardCoreIcon.png' AND !Exists('$(ProjectDir)OrchardCoreIcon.png')">
    <DownloadFile
      SourceUrl="https://api.nuget.org/v3-flatcontainer/orchardcore/1.5.0/icon"
      DestinationFolder="$(ProjectDir)"
      DestinationFileName="OrchardCoreIcon.png" />
  </Target>
</Project>
